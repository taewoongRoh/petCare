<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.petcare.disease.DiseaseMapper">

	<select id="diseaseDetail" resultType="com.petcare.disease.DiseaseDTO">
		SELECT * FROM disease
		where d_symptom=#{d_symptom};
	</select>

<select id="diseaseList" resultType="com.petcare.disease.DiseaseDTO" parameterType="HashMap">
		SELECT * FROM (select * from disease where category LIKE CONCAT('%', #{category},'%'))tmp
		WHERE 
		<foreach collection="list" item="type" separator="or">
			d_symptom LIKE CONCAT('%',#{type},'%')
		</foreach>
</select>

<select id="disease" resultType="com.petcare.disease.DiseaseDTO">
		SELECT * FROM disease
		where d_id=#{id};
</select>

	
</mapper>
